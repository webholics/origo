<?xml version="1.0" encoding="utf-8"?>
<mx:Application 
	xmlns:mx="http://www.adobe.com/2006/mxml" 
	xmlns:origo="com.origo.*"
	preloader="com.origo.Preloader"
	layout="absolute"
	creationComplete="init();">
	
	<mx:Style source="../assets/style.css" />
	<mx:Script>		
		<![CDATA[
			import com.origo.*;
			
			private function init():void
			{
				// set api base url
				var api:ApiConnector = ApiConnector.getInstance();
				api.setApiUrl(parameters["api_url"]);
				
				// switch to login state
				currentState = 'login';
			}
		]]>
	</mx:Script>
	
	<mx:states>
		<mx:State name="login">
			<mx:AddChild>
				<origo:LoginBox id="loginBox"/>
			</mx:AddChild>		
		</mx:State>
	</mx:states>
	
	<mx:transitions>
		<mx:Transition fromState="" toState="login">
			<mx:Fade target="{loginBox}" duration="500" alphaFrom="0" alphaTo="1"/>
		</mx:Transition>
	</mx:transitions>

</mx:Application>
